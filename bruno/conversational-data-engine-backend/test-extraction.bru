meta {
  name: test-extraction
  type: http
  seq: 2
}

post {
  url: http://localhost:3000/extraction/test
  body: json
  auth: none
}

body:json {
  {
    "message": "I'm traveling from New York to Paris on December 25th, 2024. I'll be using a taxi for 45 dollars and a flight for 850 euros. My name is John Smith and I work in the engineering department.",
    "fields": [
      {
        "id": "traveler_name",
        "type": "string",
        "questionTemplate": "What is your full name?",
        "aiContext": "The legal name of the person traveling",
        "validation": {
          "type": "string",
          "minLength": 2,
          "maxLength": 100
        }
      },
      {
        "id": "department",
        "type": "string",
        "questionTemplate": "Which department do you work in?",
        "aiContext": "The organizational department for expense allocation",
        "validation": {
          "type": "string",
          "enum": ["engineering", "sales", "marketing", "operations"]
        }
      },
      {
        "id": "departure_city",
        "type": "string",
        "questionTemplate": "Where are you traveling from?",
        "aiContext": "The city of departure for the trip",
        "validation": {
          "type": "string",
          "minLength": 2
        }
      },
      {
        "id": "destination_city",
        "type": "string",
        "questionTemplate": "Where are you traveling to?",
        "aiContext": "The destination city for the trip",
        "validation": {
          "type": "string",
          "minLength": 2
        }
      },
      {
        "id": "travel_date",
        "type": "date",
        "questionTemplate": "When will you be traveling?",
        "aiContext": "The date of travel in ISO format",
        "validation": {
          "type": "string",
          "format": "date"
        }
      },
      {
        "id": "taxi_cost",
        "type": "number",
        "questionTemplate": "What was the taxi cost?",
        "aiContext": "Ground transportation expense amount",
        "validation": {
          "type": "number",
          "minimum": 0
        }
      },
      {
        "id": "flight_cost",
        "type": "number",
        "questionTemplate": "What was the flight cost?",
        "aiContext": "Airfare expense amount",
        "validation": {
          "type": "number",
          "minimum": 0
        }
      }
    ]
  }
}
